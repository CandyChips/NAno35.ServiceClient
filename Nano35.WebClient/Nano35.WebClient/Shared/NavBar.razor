@using Nano35.WebClient.Services
@inject IAuthService _authService 
@inject NavigationManager _navigationManager 

<nav class="navbar navbar-expand-lg bg-dark navbar-dark">
    <NavLink class="navbar-brand" href="" Match="NavLinkMatch.All">
        Nano35
    </NavLink>
    <div style="flex: 1 1 auto;"></div>
    <div class="form-inline">
        <ul class="navbar-nav">
            <AuthorizeView>
                <Authorizing>
                    <li class="nav-item">
                        ...
                    </li>
                </Authorizing>
                <Authorized>
                    <li class="nav-item">
                        <NavLink class="nav-link" href="instances">
                            Организации
                        </NavLink>
                    </li>
                    <li class="nav-item">
                        <NavLink class="nav-link" href="log-out">
                            <RadzenButton type="button" Text="Выход" Click="BeginSignOut" ButtonStyle="ButtonStyle.Secondary"/>
                        </NavLink>
                    </li>
                </Authorized>
                <NotAuthorized>
                    <li class="nav-item">
                        <NavLink class="nav-link" href="log-in">
                            Авторизация
                        </NavLink>
                    </li>
                    <li class="nav-item">
                        <NavLink class="nav-link" href="registration">
                            Регистрация
                        </NavLink>
                    </li>
                </NotAuthorized>
            </AuthorizeView>
        </ul>
    </div>
</nav>


@code{
    async Task BeginSignOut()
    {
        await _authService.LogOut();
        _navigationManager.NavigateTo("/log-in");
    }
}