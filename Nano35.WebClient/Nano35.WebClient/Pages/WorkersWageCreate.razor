@using Nano35.HttpContext.Cashbox
@using Nano35.WebClient.Services
@using Nano35.Contracts.Cashbox.Models
@inject HttpClient HttpClient
@inject IRequestManager RequestManager
@inject ISessionProvider SessionProvider

<WorkersWageForm FormSubmitted="OnSubmit"
                 Model="_model" 
                 Error="@Error"/>

@code {
    private CreateWageOperationHttpBody _model;
    private string Error { get; set; }
    [Parameter] public Guid UserId { get; set; }
    
    protected override async Task OnInitializedAsync()
    {
        _model = new CreateWageOperationHttpBody
        {
            NewId = Guid.NewGuid(), 
            WorkerId = UserId, 
            CashOperations = new List<WagePerCashOperation>()
        };
    }
    
    private async Task OnSubmit()
    {
        try
        {
            
        }
        catch (Exception e)
        {
            Error = e.Message;
        }
    }
}